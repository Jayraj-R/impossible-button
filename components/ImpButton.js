import { useRouter } from 'next/dist/client/router';
import { useState } from 'react';
import styles from '../styles/Home.module.css';

const ImpButton = () => {
	const [mood, setMood] = useState(false);
	const [hand, setHand] = useState(false);
	const [counter, setCounter] = useState(0);
	const router = useRouter();

	const sliderHandler = () => {
		setMood(true);
		setHand(true);
		setCounter(counter + 1);

		if (!mood) {
			setTimeout(() => {
				setMood(false);
			}, 1000);
			setTimeout(() => {
				setHand(false);
			}, 1500);
		}

		if (counter === 4) {
			router.push('https://www.wikihow.com/Get-a-Life');
		}
	};

	return (
		<div className={styles.container}>
			<div
				className={styles.switch}
				onClick={sliderHandler}
				style={{ backgroundColor: mood ? '#fff3f6' : '#ff6f91' }}
			>
				<div
					className={styles.slider}
					style={{
						transform: !mood ? 'translateX(2%)' : 'translateX(105%)',
						backgroundColor: !mood ? '#fff3f6' : '#ff6f91',
					}}
				/>

				{hand && (
					<div className={`${styles.bearHand} ${styles.handsONAnimation}`}>
						<svg
							width='24'
							height='83'
							viewBox='0 0 24 83'
							fill='none'
							xmlns='http://www.w3.org/2000/svg'
						>
							<path
								d='M0 0V0C13.2548 0 24 10.7452 24 24V71C24 77.6274 18.6274 83 12 83V83C5.37258 83 0 77.6274 0 71V0Z'
								fill='#E9C6AF'
							/>
						</svg>
					</div>
				)}
			</div>

			<div
				className={styles.bearSection}
				style={{ top: !mood ? '-30%' : '-76%' }}
			>
				<svg
					width='259'
					height='249'
					viewBox='0 0 259 249'
					fill='none'
					xmlns='http://www.w3.org/2000/svg'
				>
					<g id='Teddy'>
						<path
							id='Vector'
							d='M132.6 79.963C148.345 83.5819 164.042 73.7518 167.661 58.0069C171.28 42.262 161.45 26.5646 145.705 22.9457C129.96 19.3269 114.262 29.1569 110.644 44.9018C107.025 60.6467 116.855 76.3442 132.6 79.963Z'
							fill='#E9C6AF'
						/>
						<path
							id='Vector_2'
							d='M216.969 99.3547C232.714 102.974 248.411 93.1434 252.03 77.3985C255.649 61.6537 245.819 45.9562 230.074 42.3374C214.329 38.7185 198.631 48.5486 195.013 64.2935C191.394 80.0384 201.224 95.7358 216.969 99.3547Z'
							fill='#E9C6AF'
						/>
						<path
							id='Vector_3'
							opacity='0.1'
							d='M210.033 97.7606C221.951 100.5 234.155 91.6618 237.29 78.0201C240.426 64.3784 233.306 51.099 221.388 48.3597C209.469 45.6204 197.266 54.4585 194.131 68.1002C190.995 81.7418 198.115 95.0213 210.033 97.7606Z'
							fill='black'
						/>
						<path
							id='Vector_4'
							opacity='0.1'
							d='M139.535 81.5571C151.453 84.2964 163.657 75.4583 166.792 61.8166C169.928 48.175 162.808 34.8955 150.89 32.1562C138.971 29.4169 126.768 38.255 123.632 51.8967C120.497 65.5383 127.617 78.8178 139.535 81.5571Z'
							fill='black'
						/>
						<path
							id='Vector_5'
							d='M201 157.717C198.141 166.402 222.924 168.996 214 167C210.033 166.088 217.109 198.615 214 196C211.306 193.731 215.612 194.134 214 191C213.764 190.542 206.276 182.85 213 196.5C210.621 190.677 215.676 186.505 213.842 180.404C210.55 169.436 199.658 162.798 189.396 157.717C178.576 152.356 167.48 147.57 156.155 143.381C148.458 140.526 140.569 137.933 132.397 137.085C115.006 135.28 97.5027 141.476 80.1527 139.827C79.5674 139.769 78.9836 139.704 78.3947 139.631C72.984 138.945 67.6828 137.448 62.268 136.718C53.2548 135.503 43.8987 136.415 35.1908 133.78C26.483 131.146 18.2545 123.184 19.6581 114.201C20.6466 107.871 26.2167 103.019 32.309 101.043C38.4013 99.0672 44.9792 99.4306 51.3529 99.9559C68.275 101.346 85.4345 103.703 102.065 100.398C108.016 99.2181 113.84 97.3199 119.866 96.6307C122.55 96.3095 125.263 96.3092 127.948 96.6297C131.313 97.0073 134.537 98.1949 137.343 100.091L128.716 101.282L207.439 113.62L210.542 114.11C214.271 114.696 218.066 115.296 221.469 116.935C227.322 119.756 193.741 123.604 196.5 129.5C199.259 135.396 201.03 137.349 203.5 143.381C206.979 151.837 204.865 139.119 208.5 147.5C212.135 155.881 203.851 149.038 201 157.717Z'
							fill='#E9C6AF'
						/>
						<path
							id='Vector_6'
							d='M218.357 182.743C215.146 196.713 210.963 207.251 205.949 215.078C193.645 234.267 176.37 237.194 156.295 234.654C149.531 233.796 142.483 232.329 135.184 230.651C125.968 228.605 117.101 225.225 108.86 220.62C93.6289 211.933 82.4668 198.989 79.1717 182.041C77.3917 172.917 77.8952 162.64 81.2685 151.234C94.1505 107.725 126.596 94.6067 164.453 103.308C202.31 112.009 232.093 122.982 218.357 182.743Z'
							fill='#784421'
						/>
						<path
							id='Vector_7'
							opacity='0.1'
							d='M162.129 144.733C191.68 151.525 221.142 133.076 227.934 103.525C234.726 73.9738 216.276 44.512 186.725 37.7199C157.175 30.9278 127.713 49.3775 120.921 78.9284C114.129 108.479 132.578 137.941 162.129 144.733Z'
							fill='black'
						/>
						<path
							id='Vector_8'
							d='M162.848 141.606C192.399 148.398 221.861 129.948 228.653 100.397C235.445 70.8466 216.995 41.3848 187.444 34.5927C157.893 27.8006 128.432 46.2503 121.639 75.8012C114.847 105.352 133.297 134.814 162.848 141.606Z'
							fill='#784421'
						/>
						<path
							id='Vector_9'
							d='M171.674 71.8902C173.186 72.2377 174.693 71.2939 175.04 69.7822C175.388 68.2705 174.444 66.7634 172.932 66.4159C171.421 66.0685 169.914 67.0123 169.566 68.524C169.219 70.0357 170.163 71.5428 171.674 71.8902Z'
							fill='#E9C6AF'
						/>
						<path
							id='Vector_10'
							d='M184.95 74.9416C186.462 75.2891 187.969 74.3453 188.316 72.8336C188.664 71.3219 187.72 69.8148 186.208 69.4673C184.697 69.1199 183.19 70.0636 182.842 71.5753C182.495 73.087 183.438 74.5942 184.95 74.9416Z'
							fill='#E9C6AF'
						/>
						<path
							id='Vector_11'
							opacity='0.1'
							d='M169.528 112.542C184.952 116.087 199.307 110.903 201.591 100.964C203.876 91.0251 193.224 80.0941 177.801 76.549C162.377 73.004 148.022 78.1875 145.738 88.1267C143.453 98.0658 154.105 108.997 169.528 112.542Z'
							fill='black'
						/>
						<path
							id='Vector_12'
							d='M169.759 111.537C184.321 114.884 197.874 109.99 200.031 100.606C202.188 91.2215 192.132 80.901 177.57 77.554C163.008 74.2071 149.455 79.1012 147.298 88.4853C145.141 97.8694 155.197 108.19 169.759 111.537Z'
							fill='#E9C6AF'
						/>
						{counter >= 2 && counter <= 3 && (
							<g id='bros'>
								<path
									id='Vector 4'
									d='M170.199 57.3054L174.481 61.588'
									stroke='#E9C6AF'
									strokeWidth='2'
									strokeLinecap='round'
								/>
								<path
									id='Vector 5'
									d='M191.092 63.4613L185.19 64.8213'
									stroke='#E9C6AF'
									strokeWidth='2'
									strokeLinecap='round'
								/>
							</g>
						)}
					</g>
				</svg>
				{counter === 3 && <div className={styles.msg}>#@!%*</div>}

				{counter === 4 && <div className={styles.msg}>{`:))`}</div>}
			</div>
		</div>
	);
};

export default ImpButton;
